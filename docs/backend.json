
{
  "entities": {
    "Transaction": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Transaction",
      "type": "object",
      "description": "Represents a financial transaction, either income or expense.",
      "properties": {
        "description": {
          "type": "string",
          "description": "A descriptive title for the transaction."
        },
        "amount": {
          "type": "number",
          "description": "The amount of the transaction. Positive for income, negative for expense."
        },
        "category": {
          "type": "string",
          "description": "The category to which the transaction belongs (e.g., 'Food', 'Salary')."
        },
        "date": {
          "type": "string",
          "description": "The date of the transaction.",
          "format": "date-time"
        },
        "type": {
          "type": "string",
          "enum": [
            "income",
            "expense"
          ]
        },
        "installments": {
          "type": "number"
        },
        "installmentId": {
          "type": "string",
          "description": "Identifier for grouping transactions related to the same installment purchase. Null if not an installment."
        },
        "cardId": {
          "type": "string"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the transaction was created."
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp of when the transaction was last updated."
        }
      },
      "required": [
        "amount",
        "description",
        "category",
        "date",
        "type",
        "installments",
        "createdAt",
        "updatedAt"
      ]
    },
    "CreditCard": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CreditCard",
      "type": "object",
      "description": "Represents a credit card with its associated details.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the credit card (e.g., 'Visa', 'Mastercard')."
        },
        "totalLimit": {
          "type": "number",
          "description": "The credit limit of the card."
        },
        "color": {
          "type": "string"
        },
        "closingDay": {
          "type": "number",
          "description": "The closing day of the card's billing cycle."
        },
        "dueDay": {
          "type": "number",
          "description": "The due day of the card's bill payment."
        }
      },
      "required": [
        "name",
        "totalLimit",
        "color",
        "closingDay",
        "dueDay"
      ]
    },
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents user-specific preferences and settings related to AI finance personalities.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user profile, matching the auth UID."
        },
        "aiPersonality": {
          "type": "string",
          "description": "The selected AI finance personality for the user."
        },
        "aiKnowledgeLevel": {
            "type": "string",
            "description": "The selected AI knowledge level for the user."
        },
        "firstName": {
            "type": "string"
        },
        "lastName": {
            "type": "string"
        },
        "birthDate": {
            "type": "string",
            "format": "date"
        },
        "city": {
            "type": "string"
        },
        "jobTitle": {
            "type": "string"
        },
        "company": {
            "type": "string"
        }
      },
      "required": [
        "id",
        "aiPersonality"
      ]
    },
    "CustomCategory": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CustomCategory",
      "type": "object",
      "description": "Represents a user-defined category for transactions.",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the custom category."
        },
        "icon": {
          "type": "string",
          "description": "An emoji character representing the category."
        },
        "color": {
          "type": "string",
          "description": "A hex color code for the category."
        },
        "type": {
          "type": "string",
          "enum": ["income", "expense"],
          "description": "The type of transaction this category applies to."
        }
      },
      "required": ["name", "icon", "color", "type"]
    },
    "FinancialGoal": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FinancialGoal",
      "type": "object",
      "description": "Represents a user's financial goal.",
      "properties": {
        "title": {
          "type": "string",
          "description": "The title of the financial goal."
        },
        "targetAmount": {
          "type": "number",
          "description": "The target amount to be saved for the goal."
        },
        "currentAmount": {
          "type": "number",
          "description": "The current amount saved towards the goal."
        },
        "deadline": {
          "type": "string",
          "format": "date",
          "description": "The deadline for achieving the goal."
        },
        "icon": {
          "type": "string",
          "description": "An emoji character representing the goal."
        }
      },
      "required": ["title", "targetAmount", "currentAmount", "deadline", "icon"]
    }
  },
  "auth": {
    "providers": [
      "google.com"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}/transactions/{transactionId}",
        "definition": {
          "entityName": "Transaction",
          "schema": {
            "$ref": "#/entities/Transaction"
          },
          "description": "Stores financial transaction data for a specific user."
        }
      },
      {
        "path": "/users/{userId}/cards/{cardId}",
        "definition": {
          "entityName": "CreditCard",
          "schema": {
            "$ref": "#/entities/CreditCard"
          },
          "description": "Stores credit card details for a specific user."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/entities/UserProfile"
          },
          "description": "Stores user profile data including AI personality preferences."
        }
      },
      {
        "path": "/users/{userId}/custom_categories/{categoryId}",
        "definition": {
          "entityName": "CustomCategory",
          "schema": {
            "$ref": "#/entities/CustomCategory"
          },
          "description": "Stores user-defined transaction categories."
        }
      },
      {
        "path": "/users/{userId}/goals/{goalId}",
        "definition": {
          "entityName": "FinancialGoal",
          "schema": {
            "$ref": "#/entities/FinancialGoal"
          },
          "description": "Stores user's financial goals."
        }
      }
    ]
  }
}
